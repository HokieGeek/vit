#!/bin/bash

[ "$1" == "-h" -o "$1" == "--help" ] && {
    echo "USAGE: `basename $0` [file]" >&2
    exit
}

git rev-parse --is-inside-work-tree >/dev/null 2>&1 || {
    [ $# -gt 0 ] && $(cd $(dirname $1) && git rev-parse --is-inside-work-tree >/dev/null 2>&1) || {
        echo "Could not find a git working tree" >&2
        exit 1
    }
}

gvim --cmd "let g:vit_standalone=1" \
     -c "Git log "$1 \
     -c "Git status" \
     $@ &
